"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5691],{5691:(ke,B,v)=>{v.r(B),v.d(B,{CreaProductoPageModule:()=>ge});var Z=v(177),E=v(4341),h=v(4742),G=v(6755),l=v(467),c=v(4438),N=v(6414),ee=v(3656);typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"&&global;var R=function(r){return r.Unimplemented="UNIMPLEMENTED",r.Unavailable="UNAVAILABLE",r}(R||{});class k extends Error{constructor(e,t,n){super(e),this.message=e,this.code=t,this.data=n}}const oe=r=>{var e,t,n,o,i;const a=r.CapacitorCustomPlatform||null,s=r.Capacitor||{},u=s.Plugins=s.Plugins||{},d=r.CapacitorPlatforms,F=(null===(e=null==d?void 0:d.currentPlatform)||void 0===e?void 0:e.getPlatform)||(()=>null!==a?a.name:(r=>{var e,t;return null!=r&&r.androidBridge?"android":null!==(t=null===(e=null==r?void 0:r.webkit)||void 0===e?void 0:e.messageHandlers)&&void 0!==t&&t.bridge?"ios":"web"})(r)),he=(null===(t=null==d?void 0:d.currentPlatform)||void 0===t?void 0:t.isNativePlatform)||(()=>"web"!==F()),ve=(null===(n=null==d?void 0:d.currentPlatform)||void 0===n?void 0:n.isPluginAvailable)||(f=>{const m=W.get(f);return!!(null!=m&&m.platforms.has(F())||X(f))}),X=(null===(o=null==d?void 0:d.currentPlatform)||void 0===o?void 0:o.getPluginHeader)||(f=>{var m;return null===(m=s.PluginHeaders)||void 0===m?void 0:m.find(M=>M.name===f)}),W=new Map,Ee=(null===(i=null==d?void 0:d.currentPlatform)||void 0===i?void 0:i.registerPlugin)||((f,m={})=>{const M=W.get(f);if(M)return console.warn(`Capacitor plugin "${f}" already registered. Cannot register plugins twice.`),M.proxy;const L=F(),j=X(f);let y;const Ae=function(){var p=(0,l.A)(function*(){return!y&&L in m?y=y="function"==typeof m[L]?yield m[L]():m[L]:null!==a&&!y&&"web"in m&&(y=y="function"==typeof m.web?yield m.web():m.web),y});return function(){return p.apply(this,arguments)}}(),H=p=>{let g;const b=(...w)=>{const C=Ae().then(P=>{const _=((p,g)=>{var b,w;if(!j){if(p)return null===(w=p[g])||void 0===w?void 0:w.bind(p);throw new k(`"${f}" plugin is not implemented on ${L}`,R.Unimplemented)}{const C=null==j?void 0:j.methods.find(P=>g===P.name);if(C)return"promise"===C.rtype?P=>s.nativePromise(f,g.toString(),P):(P,_)=>s.nativeCallback(f,g.toString(),P,_);if(p)return null===(b=p[g])||void 0===b?void 0:b.bind(p)}})(P,p);if(_){const O=_(...w);return g=null==O?void 0:O.remove,O}throw new k(`"${f}.${p}()" is not implemented on ${L}`,R.Unimplemented)});return"addListener"===p&&(C.remove=(0,l.A)(function*(){return g()})),C};return b.toString=()=>`${p.toString()}() { [capacitor code] }`,Object.defineProperty(b,"name",{value:p,writable:!1,configurable:!1}),b},Y=H("addListener"),Q=H("removeListener"),_e=(p,g)=>{const b=Y({eventName:p},g),w=function(){var P=(0,l.A)(function*(){const _=yield b;Q({eventName:p,callbackId:_},g)});return function(){return P.apply(this,arguments)}}(),C=new Promise(P=>b.then(()=>P({remove:w})));return C.remove=(0,l.A)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield w()}),C},D=new Proxy({},{get(p,g){switch(g){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return j?_e:Y;case"removeListener":return Q;default:return H(g)}}});return u[f]=D,W.set(f,{name:f,proxy:D,platforms:new Set([...Object.keys(m),...j?[L]:[]])}),D});return s.convertFileSrc||(s.convertFileSrc=f=>f),s.getPlatform=F,s.handleError=f=>r.console.error(f),s.isNativePlatform=he,s.isPluginAvailable=ve,s.pluginMethodNoop=(f,m,M)=>Promise.reject(`${M} does not have an implementation of "${m}".`),s.registerPlugin=Ee,s.Exception=k,s.DEBUG=!!s.DEBUG,s.isLoggingEnabled=!!s.isLoggingEnabled,s.platform=s.getPlatform(),s.isNative=s.isNativePlatform(),s},S=(r=>r.Capacitor=oe(r))(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),T=S.registerPlugin;class ${constructor(e){this.listeners={},this.retainedEventArguments={},this.windowListeners={},e&&(console.warn(`Capacitor WebPlugin "${e.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=e)}addListener(e,t){var n=this;let o=!1;this.listeners[e]||(this.listeners[e]=[],o=!0),this.listeners[e].push(t);const a=this.windowListeners[e];a&&!a.registered&&this.addWindowListener(a),o&&this.sendRetainedArgumentsForEvent(e);const s=function(){var d=(0,l.A)(function*(){return n.removeListener(e,t)});return function(){return d.apply(this,arguments)}}();return Promise.resolve({remove:s})}removeAllListeners(){var e=this;return(0,l.A)(function*(){e.listeners={};for(const t in e.windowListeners)e.removeWindowListener(e.windowListeners[t]);e.windowListeners={}})()}notifyListeners(e,t,n){const o=this.listeners[e];if(o)o.forEach(i=>i(t));else if(n){let i=this.retainedEventArguments[e];i||(i=[]),i.push(t),this.retainedEventArguments[e]=i}}hasListeners(e){return!!this.listeners[e].length}registerWindowListener(e,t){this.windowListeners[t]={registered:!1,windowEventName:e,pluginEventName:t,handler:n=>{this.notifyListeners(t,n)}}}unimplemented(e="not implemented"){return new S.Exception(e,R.Unimplemented)}unavailable(e="not available"){return new S.Exception(e,R.Unavailable)}removeListener(e,t){var n=this;return(0,l.A)(function*(){const o=n.listeners[e];if(!o)return;const i=o.indexOf(t);n.listeners[e].splice(i,1),n.listeners[e].length||n.removeWindowListener(n.windowListeners[e])})()}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const t=this.retainedEventArguments[e];t&&(delete this.retainedEventArguments[e],t.forEach(n=>{this.notifyListeners(e,n)}))}}const V=r=>encodeURIComponent(r).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),K=r=>r.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class ie extends ${getCookies(){return(0,l.A)(function*(){const e=document.cookie,t={};return e.split(";").forEach(n=>{if(n.length<=0)return;let[o,i]=n.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");o=K(o).trim(),i=K(i).trim(),t[o]=i}),t})()}setCookie(e){return(0,l.A)(function*(){try{const t=V(e.key),n=V(e.value),o=`; expires=${(e.expires||"").replace("expires=","")}`,i=(e.path||"/").replace("path=",""),a=null!=e.url&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${t}=${n||""}${o}; path=${i}; ${a};`}catch(t){return Promise.reject(t)}})()}deleteCookie(e){return(0,l.A)(function*(){try{document.cookie=`${e.key}=; Max-Age=0`}catch(t){return Promise.reject(t)}})()}clearCookies(){return(0,l.A)(function*(){try{const e=document.cookie.split(";")||[];for(const t of e)document.cookie=t.replace(/^ +/,"").replace(/=.*/,`=;expires=${(new Date).toUTCString()};path=/`)}catch(e){return Promise.reject(e)}})()}clearAllCookies(){var e=this;return(0,l.A)(function*(){try{yield e.clearCookies()}catch(t){return Promise.reject(t)}})()}}T("CapacitorCookies",{web:()=>new ie});const ae=function(){var r=(0,l.A)(function*(e){return new Promise((t,n)=>{const o=new FileReader;o.onload=()=>{const i=o.result;t(i.indexOf(",")>=0?i.split(",")[1]:i)},o.onerror=i=>n(i),o.readAsDataURL(e)})});return function(t){return r.apply(this,arguments)}}();class ue extends ${request(e){return(0,l.A)(function*(){const t=((r,e={})=>{const t=Object.assign({method:r.method||"GET",headers:r.headers},e),o=((r={})=>{const e=Object.keys(r);return Object.keys(r).map(o=>o.toLocaleLowerCase()).reduce((o,i,a)=>(o[i]=r[e[a]],o),{})})(r.headers)["content-type"]||"";if("string"==typeof r.data)t.body=r.data;else if(o.includes("application/x-www-form-urlencoded")){const i=new URLSearchParams;for(const[a,s]of Object.entries(r.data||{}))i.set(a,s);t.body=i.toString()}else if(o.includes("multipart/form-data")||r.data instanceof FormData){const i=new FormData;if(r.data instanceof FormData)r.data.forEach((s,u)=>{i.append(u,s)});else for(const s of Object.keys(r.data))i.append(s,r.data[s]);t.body=i;const a=new Headers(t.headers);a.delete("content-type"),t.headers=a}else(o.includes("application/json")||"object"==typeof r.data)&&(t.body=JSON.stringify(r.data));return t})(e,e.webFetchExtra),n=((r,e=!0)=>r?Object.entries(r).reduce((n,o)=>{const[i,a]=o;let s,u;return Array.isArray(a)?(u="",a.forEach(d=>{s=e?encodeURIComponent(d):d,u+=`${i}=${s}&`}),u.slice(0,-1)):(s=e?encodeURIComponent(a):a,u=`${i}=${s}`),`${n}&${u}`},"").substr(1):null)(e.params,e.shouldEncodeUrlParams),o=n?`${e.url}?${n}`:e.url,i=yield fetch(o,t),a=i.headers.get("content-type")||"";let u,d,{responseType:s="text"}=i.ok?e:{};switch(a.includes("application/json")&&(s="json"),s){case"arraybuffer":case"blob":d=yield i.blob(),u=yield ae(d);break;case"json":u=yield i.json();break;default:u=yield i.text()}const A={};return i.headers.forEach((F,I)=>{A[I]=F}),{data:u,headers:A,status:i.status,url:i.url}})()}get(e){var t=this;return(0,l.A)(function*(){return t.request(Object.assign(Object.assign({},e),{method:"GET"}))})()}post(e){var t=this;return(0,l.A)(function*(){return t.request(Object.assign(Object.assign({},e),{method:"POST"}))})()}put(e){var t=this;return(0,l.A)(function*(){return t.request(Object.assign(Object.assign({},e),{method:"PUT"}))})()}patch(e){var t=this;return(0,l.A)(function*(){return t.request(Object.assign(Object.assign({},e),{method:"PATCH"}))})()}delete(e){var t=this;return(0,l.A)(function*(){return t.request(Object.assign(Object.assign({},e),{method:"DELETE"}))})()}}T("CapacitorHttp",{web:()=>new ue});var U=function(r){return r.Prompt="PROMPT",r.Camera="CAMERA",r.Photos="PHOTOS",r}(U||{}),x=function(r){return r.Rear="REAR",r.Front="FRONT",r}(x||{}),z=function(r){return r.Uri="uri",r.Base64="base64",r.DataUrl="dataUrl",r}(z||{});class J extends ${getPhoto(e){var t=this;return(0,l.A)(function*(){return new Promise(function(){var n=(0,l.A)(function*(o,i){if(e.webUseInput||e.source===U.Photos)t.fileInputExperience(e,o,i);else if(e.source===U.Prompt){let a=document.querySelector("pwa-action-sheet");a||(a=document.createElement("pwa-action-sheet"),document.body.appendChild(a)),a.header=e.promptLabelHeader||"Photo",a.cancelable=!1,a.options=[{title:e.promptLabelPhoto||"From Photos"},{title:e.promptLabelPicture||"Take Picture"}],a.addEventListener("onSelection",function(){var s=(0,l.A)(function*(u){0===u.detail?t.fileInputExperience(e,o,i):t.cameraExperience(e,o,i)});return function(u){return s.apply(this,arguments)}}())}else t.cameraExperience(e,o,i)});return function(o,i){return n.apply(this,arguments)}}())})()}pickImages(e){var t=this;return(0,l.A)(function*(){return new Promise(function(){var n=(0,l.A)(function*(o,i){t.multipleFileInputExperience(o,i)});return function(o,i){return n.apply(this,arguments)}}())})()}cameraExperience(e,t,n){var o=this;return(0,l.A)(function*(){if(customElements.get("pwa-camera-modal")){const i=document.createElement("pwa-camera-modal");i.facingMode=e.direction===x.Front?"user":"environment",document.body.appendChild(i);try{yield i.componentOnReady(),i.addEventListener("onPhoto",function(){var a=(0,l.A)(function*(s){const u=s.detail;null===u?n(new k("User cancelled photos app")):u instanceof Error?n(u):t(yield o._getCameraPhoto(u,e)),i.dismiss(),document.body.removeChild(i)});return function(s){return a.apply(this,arguments)}}()),i.present()}catch{o.fileInputExperience(e,t,n)}}else console.error("Unable to load PWA Element 'pwa-camera-modal'. See the docs: https://capacitorjs.com/docs/web/pwa-elements."),o.fileInputExperience(e,t,n)})()}fileInputExperience(e,t,n){let o=document.querySelector("#_capacitor-camera-input");const i=()=>{var a;null===(a=o.parentNode)||void 0===a||a.removeChild(o)};o||(o=document.createElement("input"),o.id="_capacitor-camera-input",o.type="file",o.hidden=!0,document.body.appendChild(o),o.addEventListener("change",a=>{const s=o.files[0];let u="jpeg";if("image/png"===s.type?u="png":"image/gif"===s.type&&(u="gif"),"dataUrl"===e.resultType||"base64"===e.resultType){const d=new FileReader;d.addEventListener("load",()=>{if("dataUrl"===e.resultType)t({dataUrl:d.result,format:u});else if("base64"===e.resultType){const A=d.result.split(",")[1];t({base64String:A,format:u})}i()}),d.readAsDataURL(s)}else t({webPath:URL.createObjectURL(s),format:u}),i()}),o.addEventListener("cancel",a=>{n(new k("User cancelled photos app")),i()})),o.accept="image/*",o.capture=!0,e.source===U.Photos||e.source===U.Prompt?o.removeAttribute("capture"):e.direction===x.Front?o.capture="user":e.direction===x.Rear&&(o.capture="environment"),o.click()}multipleFileInputExperience(e,t){let n=document.querySelector("#_capacitor-camera-input-multiple");const o=()=>{var i;null===(i=n.parentNode)||void 0===i||i.removeChild(n)};n||(n=document.createElement("input"),n.id="_capacitor-camera-input-multiple",n.type="file",n.hidden=!0,n.multiple=!0,document.body.appendChild(n),n.addEventListener("change",i=>{const a=[];for(let s=0;s<n.files.length;s++){const u=n.files[s];let d="jpeg";"image/png"===u.type?d="png":"image/gif"===u.type&&(d="gif"),a.push({webPath:URL.createObjectURL(u),format:d})}e({photos:a}),o()}),n.addEventListener("cancel",i=>{t(new k("User cancelled photos app")),o()})),n.accept="image/*",n.click()}_getCameraPhoto(e,t){return new Promise((n,o)=>{const i=new FileReader,a=e.type.split("/")[1];"uri"===t.resultType?n({webPath:URL.createObjectURL(e),format:a,saved:!1}):(i.readAsDataURL(e),i.onloadend=()=>{const s=i.result;n("dataUrl"===t.resultType?{dataUrl:s,format:a,saved:!1}:{base64String:s.split(",")[1],format:a,saved:!1})},i.onerror=s=>{o(s)})})}checkPermissions(){var e=this;return(0,l.A)(function*(){if(typeof navigator>"u"||!navigator.permissions)throw e.unavailable("Permissions API not available in this browser");try{return{camera:(yield window.navigator.permissions.query({name:"camera"})).state,photos:"granted"}}catch{throw e.unavailable("Camera permissions are not available in this browser")}})()}requestPermissions(){var e=this;return(0,l.A)(function*(){throw e.unimplemented("Not implemented on web.")})()}pickLimitedLibraryPhotos(){var e=this;return(0,l.A)(function*(){throw e.unavailable("Not implemented on web.")})()}getLimitedLibraryPhotos(){var e=this;return(0,l.A)(function*(){throw e.unavailable("Not implemented on web.")})()}}new J;const de=T("Camera",{web:()=>new J});let fe=(()=>{var r;class e{constructor(){}takePicture(){return(0,l.A)(function*(){return`data:image/jpeg;base64,${(yield de.getPhoto({quality:90,allowEditing:!1,resultType:z.Base64,source:U.Camera})).base64String}`})()}}return(r=e).\u0275fac=function(n){return new(n||r)},r.\u0275prov=c.jDH({token:r,factory:r.\u0275fac,providedIn:"root"}),e})();const me=[{path:"",component:(()=>{var r;class e{constructor(n,o,i){this.productosService=n,this.navCtrl=o,this.cameraService=i,this.producto={codproducto:null,descripcion:"",stock:0,imagen:""}}tomarFoto(){var n=this;return(0,l.A)(function*(){try{n.producto.imagen=yield n.cameraService.takePicture()}catch(o){console.error("Error al tomar la foto:",o)}})()}crearProducto(){var n=this;return(0,l.A)(function*(){try{yield n.productosService.agregarProducto(n.producto),console.log("Producto agregado exitosamente"),n.navCtrl.navigateBack("/productos")}catch(o){console.error("Error al agregar producto:",o)}})()}}return(r=e).\u0275fac=function(n){return new(n||r)(c.rXU(N.J),c.rXU(ee.q9),c.rXU(fe))},r.\u0275cmp=c.VBU({type:r,selectors:[["app-crea-producto"]],decls:27,vars:3,consts:[["slot","start"],[3,"ngSubmit"],["position","floating"],["name","codproducto","required","",3,"ngModelChange","ngModel"],["name","descripcion","required","",3,"ngModelChange","ngModel"],["type","number","name","stock","required","",3,"ngModelChange","ngModel"],[3,"click"],["expand","full","type","submit"]],template:function(n,o){1&n&&(c.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),c.nrm(3,"ion-back-button"),c.k0s(),c.j41(4,"ion-title"),c.EFF(5,"Crear Producto"),c.k0s()()(),c.j41(6,"ion-content")(7,"form",1),c.bIt("ngSubmit",function(){return o.crearProducto()}),c.j41(8,"ion-item")(9,"ion-label",2),c.EFF(10,"C\xf3digo del Producto"),c.k0s(),c.j41(11,"ion-input",3),c.mxI("ngModelChange",function(a){return c.DH7(o.producto.codproducto,a)||(o.producto.codproducto=a),a}),c.k0s()(),c.j41(12,"ion-item")(13,"ion-label",2),c.EFF(14,"Descripci\xf3n"),c.k0s(),c.j41(15,"ion-input",4),c.mxI("ngModelChange",function(a){return c.DH7(o.producto.descripcion,a)||(o.producto.descripcion=a),a}),c.k0s()(),c.j41(16,"ion-item")(17,"ion-label",2),c.EFF(18,"Stock"),c.k0s(),c.j41(19,"ion-input",5),c.mxI("ngModelChange",function(a){return c.DH7(o.producto.stock,a)||(o.producto.stock=a),a}),c.k0s()(),c.j41(20,"ion-item")(21,"ion-label",2),c.EFF(22,"Imagen"),c.k0s(),c.j41(23,"ion-button",6),c.bIt("click",function(){return o.tomarFoto()}),c.EFF(24,"Tomar Foto"),c.k0s()(),c.j41(25,"ion-button",7),c.EFF(26,"Agregar Producto"),c.k0s()()()),2&n&&(c.R7$(11),c.R50("ngModel",o.producto.codproducto),c.R7$(4),c.R50("ngModel",o.producto.descripcion),c.R7$(4),c.R50("ngModel",o.producto.stock))},dependencies:[E.qT,E.BC,E.cb,E.YS,E.vS,E.cV,h.Jm,h.QW,h.W9,h.eU,h.$w,h.uz,h.he,h.BC,h.ai,h.su,h.Gw,h.el]}),e})()}];let pe=(()=>{var r;class e{}return(r=e).\u0275fac=function(n){return new(n||r)},r.\u0275mod=c.$C({type:r}),r.\u0275inj=c.G2t({imports:[G.iI.forChild(me),G.iI]}),e})(),ge=(()=>{var r;class e{}return(r=e).\u0275fac=function(n){return new(n||r)},r.\u0275mod=c.$C({type:r}),r.\u0275inj=c.G2t({imports:[Z.MD,E.YN,h.bv,pe]}),e})()}}]);