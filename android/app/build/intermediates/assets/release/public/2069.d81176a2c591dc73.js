"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2069],{2069:(I,p,l)=>{l.r(p),l.d(p,{HomePageModule:()=>y});var d=l(177),m=l(4341),r=l(4742),h=l(6755),u=l(467),f=l(4843),P=l(6955),v=l(6745),o=l(4438),_=l(6414),b=l(9073);function H(t,s){if(1&t){const a=o.RV6();o.j41(0,"ion-button",3),o.bIt("click",function(){o.eBV(a);const n=o.XpG().$implicit,i=o.XpG();return o.Njj(i.mostrarImagen(n))}),o.EFF(1,"Ver Imagen"),o.k0s()}}function C(t,s){if(1&t&&(o.j41(0,"ion-item"),o.nrm(1,"ion-radio",8),o.j41(2,"ion-label"),o.EFF(3),o.k0s(),o.j41(4,"ion-label"),o.EFF(5),o.k0s(),o.DNE(6,H,2,0,"ion-button",9),o.k0s()),2&t){const a=s.$implicit;o.R7$(),o.Y8G("value",a),o.R7$(2),o.JRh(a.descripcion),o.R7$(2),o.JRh(a.stock),o.R7$(),o.Y8G("ngIf",a.imagenUrl)}}const F=[{path:"",component:(()=>{var t;class s{constructor(e,n,i,c,M){var g;this.loadingCtrl=e,this.modalController=n,this.alertController=i,this._serviceProducto=c,this._serviceSolicitante=M,this.productos=[],this.valorSel=null,this.solicitantes=[],this.nueva_solicitud={producto_idproducto:null===(g=this.valorSel)||void 0===g?void 0:g.idproducto,solicitante_idsolicitante:0,fechasolicitud:null,cantidad:0},this.currentPage=0,this.itemsPerPage=10}ngOnInit(){var e=this;return(0,u.A)(function*(){yield e.obtenerProductos(),yield e.obtenerSolicitantes()})()}obtenerProductos(){var e=this;return(0,u.A)(function*(){const n=yield e.loadingCtrl.create({message:"Cargando productos"});yield n.present();try{const i=yield(0,f._)(e._serviceProducto.obtener_productos(e.currentPage,e.itemsPerPage));e.productos=i.body||[]}catch(i){console.error("Error al obtener productos:",i)}finally{n.dismiss()}})()}obtenerSolicitantes(){return(0,u.A)(function*(){})()}onRadioChange(e){}edit(){var e=this;return(0,u.A)(function*(){e.valorSel&&e.valorSel.idproducto?(console.log("Producto seleccionado ID:",e.valorSel.idproducto),yield(yield e.modalController.create({component:P.o,componentProps:{productoId:e.valorSel.idproducto}})).present()):console.log("No hay producto seleccionado o el producto no tiene ID.")})()}showLoading(){var e=this;return(0,u.A)(function*(){(yield e.loadingCtrl.create({message:"Cargando productos"})).present()})()}handleRefresh(e){setTimeout(()=>{this.obtenerProductos(),e.target.complete()},2e3)}nextPage(){this.currentPage++,this.obtenerProductos()}prevPage(){this.currentPage>0&&(this.currentPage--,this.obtenerProductos())}mostrarImagen(e){var n=this;return(0,u.A)(function*(){yield(yield n.modalController.create({component:v.o,componentProps:{imageUrl:e.imagenUrl}})).present()})()}}return(t=s).\u0275fac=function(e){return new(e||t)(o.rXU(r.Xi),o.rXU(r.W3),o.rXU(r.hG),o.rXU(_.J),o.rXU(b.Z))},t.\u0275cmp=o.VBU({type:t,selectors:[["app-home"]],decls:22,vars:7,consts:[[3,"translucent"],["slot","start"],["slot","end"],[3,"click"],["slot","fixed",3,"ionRefresh","pullFactor","pullMin","pullMax"],[3,"ngModelChange","ionChange","ngModel"],[4,"ngFor","ngForOf"],[3,"click","disabled"],["slot","start",3,"value"],[3,"click",4,"ngIf"]],template:function(e,n){1&e&&(o.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),o.nrm(3,"ion-back-button"),o.k0s(),o.j41(4,"ion-title"),o.EFF(5,"Solicitud"),o.k0s(),o.j41(6,"ion-buttons",2)(7,"ion-button",3),o.bIt("click",function(){return n.edit()}),o.EFF(8,"Solicitar"),o.k0s()()()(),o.j41(9,"ion-content")(10,"ion-refresher",4),o.bIt("ionRefresh",function(c){return n.handleRefresh(c)}),o.nrm(11,"ion-refresher-content"),o.k0s(),o.j41(12,"ion-radio-group",5),o.mxI("ngModelChange",function(c){return o.DH7(n.valorSel,c)||(n.valorSel=c),c}),o.bIt("ionChange",function(c){return n.onRadioChange(c)}),o.DNE(13,C,7,4,"ion-item",6),o.k0s(),o.j41(14,"ion-footer")(15,"ion-toolbar")(16,"ion-buttons",1)(17,"ion-button",7),o.bIt("click",function(){return n.prevPage()}),o.EFF(18,"Anterior"),o.k0s()(),o.j41(19,"ion-buttons",2)(20,"ion-button",3),o.bIt("click",function(){return n.nextPage()}),o.EFF(21,"Siguiente"),o.k0s()()()()()),2&e&&(o.Y8G("translucent",!0),o.R7$(10),o.Y8G("pullFactor",.5)("pullMin",100)("pullMax",200),o.R7$(2),o.R50("ngModel",n.valorSel),o.R7$(),o.Y8G("ngForOf",n.productos),o.R7$(4),o.Y8G("disabled",0===n.currentPage))},dependencies:[d.Sq,d.bT,m.BC,m.vS,r.Jm,r.QW,r.W9,r.M0,r.eU,r.uz,r.he,r.KO,r.f0,r.To,r.Ki,r.BC,r.ai,r.Je,r.el]}),s})()}];let R=(()=>{var t;class s{}return(t=s).\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.$C({type:t}),t.\u0275inj=o.G2t({imports:[h.iI.forChild(F),h.iI]}),s})(),y=(()=>{var t;class s{}return(t=s).\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.$C({type:t}),t.\u0275inj=o.G2t({imports:[d.MD,m.YN,r.bv,R]}),s})()}}]);