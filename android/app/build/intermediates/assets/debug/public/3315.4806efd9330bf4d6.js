"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3315],{3315:(k,l,u)=>{u.r(l),u.d(l,{ModProductoPageModule:()=>j});var a=u(177),s=u(4341),r=u(4742),p=u(6755),o=u(4438),P=u(6414);function _(t,c){if(1&t&&(o.j41(0,"ion-label")(1,"h2"),o.EFF(2),o.k0s()()),2&t){const n=o.XpG().$implicit;o.R7$(2),o.JRh(n.descripcion)}}function g(t,c){if(1&t){const n=o.RV6();o.j41(0,"ion-input",9),o.mxI("ngModelChange",function(e){o.eBV(n);const d=o.XpG(2);return o.DH7(d.descripcionActualizada,e)||(d.descripcionActualizada=e),o.Njj(e)}),o.k0s()}if(2&t){const n=o.XpG(2);o.R50("ngModel",n.descripcionActualizada)}}function m(t,c){if(1&t){const n=o.RV6();o.j41(0,"ion-button",4),o.bIt("click",function(){o.eBV(n);const e=o.XpG().$implicit,d=o.XpG();return o.Njj(d.activarEdicion(e.idproducto,e.descripcion))}),o.EFF(1," Editar "),o.k0s()}}function b(t,c){if(1&t){const n=o.RV6();o.j41(0,"ion-button",4),o.bIt("click",function(){o.eBV(n);const e=o.XpG(2);return o.Njj(e.actualizarDescripcion())}),o.EFF(1," Guardar "),o.k0s()}}function f(t,c){if(1&t){const n=o.RV6();o.j41(0,"ion-item"),o.DNE(1,_,3,1,"ion-label",5)(2,g,1,1,"ion-input",6),o.j41(3,"ion-buttons",3),o.DNE(4,m,2,0,"ion-button",7)(5,b,2,0,"ion-button",7),o.j41(6,"ion-button",8),o.bIt("click",function(){const e=o.eBV(n).$implicit,d=o.XpG();return o.Njj(d.eliminarProducto(e.idproducto))}),o.EFF(7," Eliminar "),o.k0s()()()}if(2&t){const n=c.$implicit,i=o.XpG();o.R7$(),o.Y8G("ngIf",i.editando!==n.idproducto),o.R7$(),o.Y8G("ngIf",i.editando===n.idproducto),o.R7$(2),o.Y8G("ngIf",i.editando!==n.idproducto),o.R7$(),o.Y8G("ngIf",i.editando===n.idproducto)}}const M=[{path:"",component:(()=>{var t;class c{constructor(i){this.productoService=i,this.productos=[],this.editando=null,this.descripcionActualizada="",this.currentPage=0,this.itemsPerPage=10}ngOnInit(){this.obtenerProductos()}obtenerProductos(){this.productoService.obtener_productos(this.currentPage,this.itemsPerPage).subscribe({next:i=>{this.productos=i.body||[]},error:i=>{console.error("Error al obtener productos:",i)}})}activarEdicion(i,e){this.editando=i,this.descripcionActualizada=e}actualizarDescripcionProducto(i,e){this.productoService.modificarProductoDescripcion(i,e).subscribe({next:()=>{console.log("Descripci\xf3n actualizada exitosamente"),this.obtenerProductos()},error:d=>{console.error("Error al actualizar la descripci\xf3n:",d)}})}actualizarDescripcion(){null!==this.editando&&this.productoService.modificarProductoDescripcion(this.editando,this.descripcionActualizada).subscribe({next:()=>{console.log("Descripci\xf3n actualizada exitosamente"),this.obtenerProductos(),this.editando=null,this.descripcionActualizada=""},error:i=>{console.error("Error al actualizar la descripci\xf3n:",i)}})}eliminarProducto(i){this.productoService.eliminarProducto(i).subscribe({next:()=>{this.obtenerProductos()},error:e=>{console.error("Error al eliminar producto:",e)}})}nextPage(){this.currentPage++,this.obtenerProductos()}prevPage(){this.currentPage>0&&(this.currentPage--,this.obtenerProductos())}}return(t=c).\u0275fac=function(i){return new(i||t)(o.rXU(P.J))},t.\u0275cmp=o.VBU({type:t,selectors:[["app-mod-producto"]],decls:17,vars:2,consts:[["slot","start"],[4,"ngFor","ngForOf"],[3,"click","disabled"],["slot","end"],[3,"click"],[4,"ngIf"],[3,"ngModel","ngModelChange",4,"ngIf"],[3,"click",4,"ngIf"],["color","danger",3,"click"],[3,"ngModelChange","ngModel"]],template:function(i,e){1&i&&(o.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),o.nrm(3,"ion-back-button"),o.k0s(),o.j41(4,"ion-title"),o.EFF(5,"Productos"),o.k0s()()(),o.j41(6,"ion-content")(7,"ion-list"),o.DNE(8,f,8,4,"ion-item",1),o.k0s(),o.j41(9,"ion-footer")(10,"ion-toolbar")(11,"ion-buttons",0)(12,"ion-button",2),o.bIt("click",function(){return e.prevPage()}),o.EFF(13,"Anterior"),o.k0s()(),o.j41(14,"ion-buttons",3)(15,"ion-button",4),o.bIt("click",function(){return e.nextPage()}),o.EFF(16,"Siguiente"),o.k0s()()()()()),2&i&&(o.R7$(8),o.Y8G("ngForOf",e.productos),o.R7$(4),o.Y8G("disabled",0===e.currentPage))},dependencies:[a.Sq,a.bT,s.BC,s.vS,r.Jm,r.QW,r.W9,r.M0,r.eU,r.$w,r.uz,r.he,r.nf,r.BC,r.ai,r.Gw,r.el]}),c})()}];let h=(()=>{var t;class c{}return(t=c).\u0275fac=function(i){return new(i||t)},t.\u0275mod=o.$C({type:t}),t.\u0275inj=o.G2t({imports:[p.iI.forChild(M),p.iI]}),c})(),j=(()=>{var t;class c{}return(t=c).\u0275fac=function(i){return new(i||t)},t.\u0275mod=o.$C({type:t}),t.\u0275inj=o.G2t({imports:[a.MD,s.YN,r.bv,h]}),c})()}}]);